import json

FILE_PATH = '/root/04travel/public/04travel-pages.json'

# Текст политики cookies
TEXT = """<p>Нажимая кнопку «Принимаю», я, в соответствии со ст. 9 Федерального закона от 27.07.2006 №152-ФЗ «О персональных данных» (далее — 152-ФЗ), действуя свободно, своей волей и в своем интересе, даю ИП «Скоробогатова М.А.» (далее – Оператор), Контакты: oasis@04travel.ru телефон: 8-963-510-6746, г. Горно-Алтайск настоящее Согласие на обработку персональных данных (далее – Согласие), собираемых на сайте https://04travel.ru/. https://wp.04travel.ru/ (далее – Сайт) с помощью файлов cookie и сервисов сбора технических данных, а именно:</p>

<ul>
<li>файлы cookie;</li>
<li>сведения о действиях пользователей Сайта;</li>
<li>сведения об оборудовании и браузере пользователя(тип и версия ОС, тип и версия Браузера, тип устройства и разрешение его экрана, язык ОС и Браузера);</li>
<li>IP-адрес;</li>
<li>дата и время сессии;</li>
<li>сведения о местоположении;</li>
<li>реферер (адрес предыдущей страницы).</li>
</ul>

<p>Обработка указанных персональных данных осуществляется Оператором в целях улучшения работы Сайта.</p>

<p>Оператор вправе осуществлять сбор, получение от третьих лиц, запись, систематизацию, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передачу (доступ, предоставление), блокирование, удаление, уничтожение с использованием средств автоматизации моих персональных данных.</p>

<p>Оператор вправе привлекать третьих лиц к обработке персональных данных путем поручения третьим лицам обработки персональных данных и (или) путем передачи третьим лицам персональных данных без поручения обработки персональных данных. Привлечение третьих лиц к обработке персональных данных может осуществляться только при условии обработки такими лицами персональных данных в минимально необходимом составе и исключительно для достижения предусмотренной настоящим Согласием цели обработки персональных данных, а также при условии обеспечения такими лицами конфиденциальности и безопасности персональных данных при их обработке. К третьим лицам, в частности, относятся: ООО «Яндекс», Общество с ограниченной ответственностью «Яндекс.Облако» (119021, г. Москва, ул. Льва Толстого, д. 16, помещ. 528).</p>

<p>Настоящее Согласие действует до момента удаления аккаунта или отзыва согласия, что наступит ранее.</p>

<p>Я уведомлен(а) о том, что настоящее Согласие может быть отозвано мной в соответствии со ст.9 Федерального закона от 27.07.2006 № 152-ФЗ «О персональных данных» путем представления письменного обращения по адресу Оператора. Я уведомлен(а) о том, что в случае отзыва настоящего Согласия Оператор вправе продолжить обработку моих персональных данных без моего согласия при наличии оснований, указанных в п.п.2-11 ч.1 ст.6, ч.2 ст.10 и ч.2 ст.11 Федерального закона от 27.07.2006 № 152-ФЗ «О персональных данных».</p>"""

with open(FILE_PATH, 'r', encoding='utf-8') as f:
    data = json.load(f)

# Удаляем старые записи Cookies (948, 9991) и добавляем/обновляем 950
data = [p for p in data if p.get('wp_id') not in [948, 9991, 950] and p.get('slug') != 'cookies']

data.insert(0, {
    "doc_type": "wp_page",
    "wp_id": 950,
    "title": "Cookies",
    "slug": "cookies",
    "url": "https://04travel.ru/cookies/",
    "date_published": "2026-01-25 03:30:00",
    "date_modified": "2026-01-25 03:30:00",
    "parent_wp_id": 0,
    "menu_order": 0,
    "excerpt_html": "",
    "content_html": TEXT,
    "meta": {"_wp_page_template": "default"}
})

with open(FILE_PATH, 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print("JSON Updated with ID 950 (slug: cookies)")
